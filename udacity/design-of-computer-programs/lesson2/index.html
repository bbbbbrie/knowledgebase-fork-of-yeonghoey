<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-120656861-1"></script>
  <script>
   window.dataLayer = window.dataLayer || [];
   function gtag(){dataLayer.push(arguments);}
   gtag('js', new Date());
   gtag('config', 'UA-120656861-1');
  </script>

  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />


  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#00aba9">
  <meta name="theme-color" content="#ffffff">

  <title>Lesson 2</title>

  <style type="text/css">
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>

  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <link rel="stylesheet" href="/_css/content.css" />


  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->

  <link href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Condensed|Roboto+Mono" rel="stylesheet">
</head>
<body>
<nav class="menu">
  <ol class="breadcrumb">
    <li><a href="/" >Home</a></li>
    <li><a href="/udacity/" >udacity</a></li>
    <li><a href="/udacity/design-of-computer-programs/" >design-of-computer-programs</a></li>
    <li>lesson2</li>
  </ol>
</nav>

<article>
<header>
<h1 class="title">Lesson 2</h1>
</header>

<nav class="toc">
<h2>Table of Contents</h2>
<ul>
<li><a href="#lesson-2-1">Lesson 2</a><ul>
<li><a href="#quiz-zebra-puzzle">Quiz: Zebra Puzzle</a></li>
<li><a href="#quiz-leaving-happy-valley">Quiz: Leaving Happy Valley</a></li>
<li><a href="#quiz-estimating-runtime">Quiz: Estimating Runtime</a></li>
<li><a href="#slow-solution">Slow Solution</a></li>
<li><a href="#winning-the-race">Winning The Race</a></li>
<li><a href="#quiz-timed-calls">Quiz: Timed Calls</a><ul>
<li><a href="#my-solution">My Solution</a></li>
<li><a href="#his-solution">His Solution</a></li>
<li><a href="#feedback">Feedback</a></li>
</ul></li>
<li><a href="#cleaning-up-functions">Cleaning Up Functions</a></li>
<li><a href="#zebra-summary">Zebra Summary</a></li>
<li><a href="#quiz-cryptarithmetic">Quiz: Cryptarithmetic</a></li>
<li><a href="#brute-force-solution">Brute Force Solution</a></li>
<li><a href="#translation-tables">Translation Tables</a><ul>
<li><a href="#my-solution-1">My Solution</a></li>
<li><a href="#his-solution-1">His Solution</a></li>
<li><a href="#feedback-1">Feedback</a></li>
</ul></li>
<li><a href="#quiz-solving-cryptarithmetic">Quiz: Solving Cryptarithmetic</a></li>
<li><a href="#quiz-filling-in-fill-in">Quiz: Filling in Fill In</a><ul>
<li><a href="#my-old-solution">My Old Solution</a></li>
<li><a href="#my-new-solution">My New Solution</a></li>
<li><a href="#his-solution-2">His Solution</a></li>
<li><a href="#feedback-2">Feedback</a></li>
</ul></li>
<li><a href="#testing">Testing</a><ul>
<li><a href="#feedback-3">Feedback</a></li>
</ul></li>
<li><a href="#tracking-time">Tracking Time</a></li>
<li><a href="#lambda">Lambda</a></li>
<li><a href="#quiz-compile-word">Quiz: Compile Word</a><ul>
<li><a href="#my-old-solution-1">My Old Solution</a></li>
<li><a href="#my-new-solution-1">My New Solution</a></li>
<li><a href="#his-solution-3">His Solution</a></li>
<li><a href="#feedback-4">Feedback</a></li>
<li><a href="#remaining-parts">Remaining parts</a></li>
</ul></li>
<li><a href="#speeding-up">Speeding Up</a></li>
<li><a href="#recap">Recap</a></li>
</ul></li>
<li><a href="#problem-set-2">Problem Set 2</a><ul>
<li><a href="#quiz-no-leading-zeros">Quiz: No Leading Zeros</a><ul>
<li><a href="#my-solution-2">My Solution</a></li>
<li><a href="#his-solution-4">His Solution</a></li>
<li><a href="#feedback-5">Feedback</a></li>
</ul></li>
<li><a href="#quiz-floor-puzzle">Quiz: Floor Puzzle</a><ul>
<li><a href="#my-old-solution-2">My Old Solution</a></li>
<li><a href="#my-new-solution-2">My New Solution</a></li>
<li><a href="#his-solution-5">His Solution</a></li>
</ul></li>
<li><a href="#quiz-subpalindrome">Quiz: Subpalindrome</a><ul>
<li><a href="#my-old-solution-3">My Old Solution</a></li>
<li><a href="#my-new-solution-3">My New Solution</a></li>
<li><a href="#his-solution-6">His Solution</a></li>
<li><a href="#feedback-6">Feedback</a></li>
</ul></li>
</ul></li>
<li><a href="#office-hours-2">Office Hours 2</a></li>
</ul>
</nav>

<h1 id="lesson-2-1">Lesson 2</h1>
<h2 id="quiz-zebra-puzzle">Quiz: Zebra Puzzle</h2>
<pre class="example"><code>1 There are five houses.
2 The Englishman lives in the red house.
3 The Spaniard owns the dog.
4 Coffee is drunk in the green house.
5 The Ukrainian drinks tea.
6 The green house is immediately to the right of the ivory house.
7 The Old Gold smoker owns snails.
8 Kools are smoked in the yellow house.
9 Milk is drunk in the middle house.
10 The Norwegian lives in the first house.
11 The man who smokes Chesterfields lives in the house next to the man with the fox.
12 Kools are smoked in a house next to the house where the horse is kept.
13 The Lucky Strike smoker drinks orange juice.
14 The Japanese smokes Parliaments.
15 The Norwegian lives next to the blue house.
Who drinks water? Who owns the zebra?
</code></pre>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-18_11-54-14.png" /></p>
<h2 id="quiz-leaving-happy-valley">Quiz: Leaving Happy Valley</h2>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-18_11-59-09.png" /></p>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-18_12-00-49.png" /></p>
<p>He picked the last one because of its simplicity. He claimed that he picked it just for its simplicity and would change it when it proved not to work.</p>
<p>The last one has inverted the dependency. Originally, the description says:</p>
<pre class="example"><code>A &#39;house&#39; has a &#39;property&#39;
</code></pre>
<p>But the last one says</p>
<pre class="example"><code>a &#39;property&#39; belongs to a &#39;house&#39;
</code></pre>
<p>Why does this make the problem easy? I think it's because the house is only for grouping. The problem is only interested in the relations between properties. I think I should try this way when I'm faced with situations like this</p>
<h2 id="quiz-estimating-runtime">Quiz: Estimating Runtime</h2>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-18_12-06-00.png" /></p>
<p>I couldn't consider the CPU clock rate. Even if I had considerted that, I wouldnt have associated it with the instrcutions.</p>
<h2 id="slow-solution">Slow Solution</h2>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-18_12-42-32.png" /></p>
<p>His code is read naturally. He doesn't seem to care about the implementation constraints. I think it's a great way of writing readable code.</p>
<h2 id="winning-the-race">Winning The Race</h2>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-19_12-15-57.png" /></p>
<h2 id="quiz-timed-calls">Quiz: Timed Calls</h2>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-19_12-19-31.png" /></p>
<h3 id="my-solution">My Solution</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">def</span> timedcalls(n, fn, <span class="op">*</span>args):</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">    <span class="cf">if</span> <span class="bu">isinstance</span>(n, <span class="bu">int</span>):</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">        times <span class="op">=</span> [timedcall(fn, <span class="op">*</span>args)[<span class="dv">0</span>] <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(n)]</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">    <span class="cf">elif</span> <span class="bu">isinstance</span>(n, <span class="bu">float</span>):</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">        times <span class="op">=</span> []</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">        <span class="cf">while</span> <span class="bu">sum</span>(times) <span class="op">&lt;</span> n:</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">            times.append(timedcall(fn, <span class="op">*</span>args)[<span class="dv">0</span>])</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">    <span class="cf">return</span> <span class="bu">min</span>(times), average(times), <span class="bu">max</span>(times)</a></code></pre></div>
<h3 id="his-solution">His Solution</h3>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-19_12-22-28.png" /></p>
<h3 id="feedback">Feedback</h3>
<p>They are exactly same.</p>
<h2 id="cleaning-up-functions">Cleaning Up Functions</h2>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-19_12-24-21.png" /></p>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-19_12-26-58.png" /></p>
<h2 id="zebra-summary">Zebra Summary</h2>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-20_12-32-43.png" /></p>
<h2 id="quiz-cryptarithmetic">Quiz: Cryptarithmetic</h2>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-20_12-33-26.png" /></p>
<h2 id="brute-force-solution">Brute Force Solution</h2>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-20_12-36-02.png" /></p>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-20_12-37-48.png" /></p>
<h2 id="translation-tables">Translation Tables</h2>
<h3 id="my-solution-1">My Solution</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="im">import</span> re</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="kw">def</span> valid(f):</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">    <span class="cf">try</span>:</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">        nums <span class="op">=</span> re.split(<span class="st">&#39;[+-/*= ]+&#39;</span>, f)</a>
<a class="sourceLine" id="cb5-6" data-line-number="6">        <span class="cf">return</span> <span class="bu">all</span>(n <span class="op">==</span> <span class="st">&#39;0&#39;</span> <span class="kw">or</span> <span class="kw">not</span> n.startswith(<span class="st">&#39;0&#39;</span>) <span class="cf">for</span> n <span class="kw">in</span> nums) <span class="kw">and</span> <span class="bu">eval</span>(f) <span class="kw">is</span> <span class="va">True</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7">    <span class="cf">except</span> <span class="pp">ZeroDivisionError</span>:</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">        <span class="cf">return</span> <span class="va">False</span></a></code></pre></div>
<h3 id="his-solution-1">His Solution</h3>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-20_13-56-56.png" /></p>
<h3 id="feedback-1">Feedback</h3>
<ul>
<li>Using <code>re.search</code> is way better than using <code>re.split()</code>.</li>
<li><code>ArithmeticError</code> is more general and proper than <code>ZeroDivisionError</code></li>
</ul>
<h2 id="quiz-solving-cryptarithmetic">Quiz: Solving Cryptarithmetic</h2>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-21_15-00-27.png" /></p>
<h2 id="quiz-filling-in-fill-in">Quiz: Filling in Fill In</h2>
<h3 id="my-old-solution">My Old Solution</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">def</span> fill_in(formula):</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">    <span class="co">&quot;Generate all possible fillings-in of letters in formula with digits.&quot;</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3">    letters <span class="op">=</span> <span class="bu">filter</span>(<span class="kw">lambda</span> c: c.isalpha(), formula)</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">    <span class="cf">for</span> digits <span class="kw">in</span> itertools.permutations(<span class="st">&#39;1234567890&#39;</span>, <span class="bu">len</span>(letters)):</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">        table <span class="op">=</span> string.maketrans(letters, <span class="st">&#39;&#39;</span>.join(digits))</a>
<a class="sourceLine" id="cb6-6" data-line-number="6">        <span class="cf">yield</span> formula.translate(table)</a></code></pre></div>
<h3 id="my-new-solution">My New Solution</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb7-1" data-line-number="1">letters <span class="op">=</span> <span class="st">&#39;&#39;</span>.join(<span class="bu">set</span>([ch <span class="cf">for</span> ch <span class="kw">in</span> formula <span class="cf">if</span> ch.isupper()]))</a></code></pre></div>
<h3 id="his-solution-2">His Solution</h3>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-21_15-14-06.png" /></p>
<h3 id="feedback-2">Feedback</h3>
<p>I need to become more frinedly with <code>re</code> module.</p>
<h2 id="testing">Testing</h2>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-21_15-16-15.png" /></p>
<h3 id="feedback-3">Feedback</h3>
<ul>
<li><code>splitlines()</code></li>
<li><code>time.clock()</code></li>
</ul>
<h2 id="tracking-time">Tracking Time</h2>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-21_15-20-14.png" /></p>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-21_15-19-59.png" /></p>
<h2 id="lambda">Lambda</h2>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-21_20-04-38.png" /></p>
<h2 id="quiz-compile-word">Quiz: Compile Word</h2>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-21_20-06-50.png" /></p>
<h3 id="my-old-solution-1">My Old Solution</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">def</span> compile_word(word):</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">    <span class="co">&quot;&quot;&quot;Compile a word of uppercase letters as numeric digits.</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co">    E.g., compile_word(&#39;YOU&#39;) =&gt; &#39;(1*U+10*O+100*Y)&#39;</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co">    Non-uppercase words unchanged: compile_word(&#39;+&#39;) =&gt; &#39;+&#39;&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5">    <span class="cf">if</span> re.match(<span class="vs">r&#39;^[A-Z]+$&#39;</span>, word) <span class="kw">is</span> <span class="va">None</span>:</a>
<a class="sourceLine" id="cb8-6" data-line-number="6">        <span class="cf">return</span> word</a>
<a class="sourceLine" id="cb8-7" data-line-number="7">    expr <span class="op">=</span> <span class="st">&#39;+&#39;</span>.join(<span class="st">&#39;</span><span class="sc">%s</span><span class="st">*</span><span class="sc">%s</span><span class="st">&#39;</span> <span class="op">%</span> (<span class="bu">pow</span>(<span class="dv">10</span>, i), ch) <span class="cf">for</span> i, ch <span class="kw">in</span> <span class="bu">enumerate</span>(<span class="bu">reversed</span>(word)))</a>
<a class="sourceLine" id="cb8-8" data-line-number="8">    <span class="cf">return</span> <span class="st">&#39;(</span><span class="sc">%s</span><span class="st">)&#39;</span> <span class="op">%</span> expr</a></code></pre></div>
<h3 id="my-new-solution-1">My New Solution</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">def</span> compile_word(word):</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">    <span class="cf">if</span> re.match(<span class="vs">r&#39;^[A-Z]+$&#39;</span>, word):</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">        es <span class="op">=</span> [<span class="bu">pow</span>(<span class="dv">10</span>, i) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(word))]</a>
<a class="sourceLine" id="cb9-4" data-line-number="4">        ds <span class="op">=</span> <span class="bu">reversed</span>(word)</a>
<a class="sourceLine" id="cb9-5" data-line-number="5">        terms <span class="op">=</span> [<span class="st">&#39;</span><span class="sc">%s</span><span class="st">*</span><span class="sc">%s</span><span class="st">&#39;</span> <span class="op">%</span> (e, d) <span class="cf">for</span> e, d <span class="kw">in</span> <span class="bu">zip</span>(es, ds)]</a>
<a class="sourceLine" id="cb9-6" data-line-number="6">        <span class="cf">return</span> <span class="st">&#39;(</span><span class="sc">%s</span><span class="st">)&#39;</span> <span class="op">%</span> <span class="st">&#39;+&#39;</span>.join(terms)</a>
<a class="sourceLine" id="cb9-7" data-line-number="7">    <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb9-8" data-line-number="8">        <span class="cf">return</span> word</a></code></pre></div>
<p>I wrote this code with splitting logic into smaller pieces in mind.</p>
<h3 id="his-solution-3">His Solution</h3>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-21_20-22-59.png" /></p>
<h3 id="feedback-4">Feedback</h3>
<ul>
<li>Using <code>10**i</code> seems more fancy than <code>pow</code></li>
<li>Using <code>l[::-1]</code> seems more fancy than <code>reversed(l)</code></li>
</ul>
<h3 id="remaining-parts">Remaining parts</h3>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-21_20-26-40.png" /></p>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-21_20-27-15.png" /></p>
<h2 id="speeding-up">Speeding Up</h2>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-21_20-29-37.png" /></p>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-21_20-29-52.png" /></p>
<h2 id="recap">Recap</h2>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-21_20-31-36.png" /></p>
<h1 id="problem-set-2">Problem Set 2</h1>
<h2 id="quiz-no-leading-zeros">Quiz: No Leading Zeros</h2>
<h3 id="my-solution-2">My Solution</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw">def</span> compile_formula(formula, verbose<span class="op">=</span><span class="va">False</span>):</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">    letters <span class="op">=</span> <span class="st">&#39;&#39;</span>.join(<span class="bu">set</span>(re.findall(<span class="st">&#39;[A-Z]&#39;</span>, formula)))</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">    parms <span class="op">=</span> <span class="st">&#39;, &#39;</span>.join(letters)</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">    terms <span class="op">=</span> re.split(<span class="st">&#39;([A-Z]+)&#39;</span>, formula)</a>
<a class="sourceLine" id="cb10-5" data-line-number="5">    tokens <span class="op">=</span> <span class="bu">map</span>(compile_word, terms)</a>
<a class="sourceLine" id="cb10-6" data-line-number="6">    heads <span class="op">=</span> <span class="bu">set</span>([t[<span class="dv">0</span>] <span class="cf">for</span> t <span class="kw">in</span> terms <span class="cf">if</span> <span class="bu">len</span>(t) <span class="op">&gt;</span> <span class="dv">1</span> <span class="kw">and</span> t.isupper()])</a>
<a class="sourceLine" id="cb10-7" data-line-number="7">    nonzero <span class="op">=</span> <span class="st">&#39; and &#39;</span>.join(<span class="st">&#39;</span><span class="sc">%s</span><span class="st"> != 0&#39;</span> <span class="op">%</span> h <span class="cf">for</span> h <span class="kw">in</span> heads)</a>
<a class="sourceLine" id="cb10-8" data-line-number="8">    body <span class="op">=</span> <span class="st">&#39;(&#39;</span> <span class="op">+</span> <span class="st">&#39;&#39;</span>.join(tokens) <span class="op">+</span> <span class="st">&#39;)&#39;</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9">    pred <span class="op">=</span> nonzero <span class="op">+</span> <span class="st">&#39; and &#39;</span> <span class="op">+</span> body <span class="cf">if</span> nonzero <span class="cf">else</span> body</a>
<a class="sourceLine" id="cb10-10" data-line-number="10">    f <span class="op">=</span> <span class="st">&#39;lambda </span><span class="sc">%s</span><span class="st">: </span><span class="sc">%s</span><span class="st">&#39;</span> <span class="op">%</span> (parms, pred)</a>
<a class="sourceLine" id="cb10-11" data-line-number="11">    <span class="cf">if</span> verbose: <span class="bu">print</span> f</a>
<a class="sourceLine" id="cb10-12" data-line-number="12">    <span class="cf">return</span> <span class="bu">eval</span>(f), letters</a></code></pre></div>
<h3 id="his-solution-4">His Solution</h3>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-21_22-06-11.png" /></p>
<h3 id="feedback-5">Feedback</h3>
<p>Here is the docstring of <code>re.findall</code></p>
<pre class="example"><code>re
findall(pattern, string, flags=0)

Return a list of all non-overlapping matches in the string.

If one or more groups are present in the pattern, return a
list of groups; this will be a list of tuples if the pattern
has more than one group.

Empty matches are included in the result.
</code></pre>
<p>If I had known this before, I would have used this.</p>
<h2 id="quiz-floor-puzzle">Quiz: Floor Puzzle</h2>
<h3 id="my-old-solution-2">My Old Solution</h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="im">import</span> itertools</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"></a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="kw">def</span> floor_puzzle():</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">    <span class="cf">for</span> Hopper, Kay, Liskov, Perlis, Ritchie <span class="kw">in</span> itertools.permutations([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]):</a>
<a class="sourceLine" id="cb12-5" data-line-number="5">        <span class="cf">if</span> (Hopper <span class="op">!=</span> <span class="dv">5</span> <span class="kw">and</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6">            Kay <span class="op">!=</span> <span class="dv">1</span> <span class="kw">and</span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7">            Liskov <span class="op">!=</span> <span class="dv">1</span> <span class="kw">and</span> Liskov <span class="op">!=</span> <span class="dv">5</span> <span class="kw">and</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8">            Perlis <span class="op">&gt;</span> Kay <span class="kw">and</span></a>
<a class="sourceLine" id="cb12-9" data-line-number="9">            <span class="kw">not</span> adjacent(Ritchie, Liskov) <span class="kw">and</span></a>
<a class="sourceLine" id="cb12-10" data-line-number="10">            <span class="kw">not</span> adjacent(Liskov, Kay)):</a>
<a class="sourceLine" id="cb12-11" data-line-number="11">            <span class="cf">return</span> [Hopper, Kay, Liskov, Perlis, Ritchie]</a>
<a class="sourceLine" id="cb12-12" data-line-number="12"></a>
<a class="sourceLine" id="cb12-13" data-line-number="13"><span class="kw">def</span> adjacent(a, b):</a>
<a class="sourceLine" id="cb12-14" data-line-number="14">    <span class="cf">return</span> <span class="bu">abs</span>(a<span class="op">-</span>b) <span class="op">==</span><span class="dv">1</span></a></code></pre></div>
<h3 id="my-new-solution-2">My New Solution</h3>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="im">import</span> itertools</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="kw">def</span> floor_puzzle():</a>
<a class="sourceLine" id="cb13-4" data-line-number="4">    bottom, top <span class="op">=</span> <span class="dv">1</span>, <span class="dv">5</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5">    floors <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</a>
<a class="sourceLine" id="cb13-6" data-line-number="6">    <span class="cf">return</span> <span class="bu">next</span>([Hopper, Kay, Liskov, Perlis, Ritchie]</a>
<a class="sourceLine" id="cb13-7" data-line-number="7">        <span class="cf">for</span> Hopper, Kay, Liskov, Perlis, Ritchie <span class="kw">in</span> itertools.permutations(floors)</a>
<a class="sourceLine" id="cb13-8" data-line-number="8">        <span class="cf">if</span> Hopper <span class="kw">is</span> <span class="kw">not</span> top</a>
<a class="sourceLine" id="cb13-9" data-line-number="9">        <span class="cf">if</span> Kay <span class="kw">is</span> <span class="kw">not</span> bottom</a>
<a class="sourceLine" id="cb13-10" data-line-number="10">        <span class="cf">if</span> Liskov <span class="kw">not</span> <span class="kw">in</span> (top, bottom)</a>
<a class="sourceLine" id="cb13-11" data-line-number="11">        <span class="cf">if</span> Perlis <span class="op">&gt;</span> Kay</a>
<a class="sourceLine" id="cb13-12" data-line-number="12">        <span class="cf">if</span> <span class="kw">not</span> adjacent(Ritchie, Liskov)</a>
<a class="sourceLine" id="cb13-13" data-line-number="13">        <span class="cf">if</span> <span class="kw">not</span> adjacent(Liskov, Kay))</a>
<a class="sourceLine" id="cb13-14" data-line-number="14"></a>
<a class="sourceLine" id="cb13-15" data-line-number="15"><span class="kw">def</span> adjacent(a, b):</a>
<a class="sourceLine" id="cb13-16" data-line-number="16">    <span class="cf">return</span> <span class="bu">abs</span>(a <span class="op">-</span> b) <span class="op">==</span> <span class="dv">1</span></a></code></pre></div>
<h3 id="his-solution-5">His Solution</h3>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-21_22-17-51.png" /></p>
<h2 id="quiz-subpalindrome">Quiz: Subpalindrome</h2>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-21_22-22-21.png" /></p>
<h3 id="my-old-solution-3">My Old Solution</h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="im">import</span> collections</a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="im">import</span> itertools</a>
<a class="sourceLine" id="cb14-3" data-line-number="3"></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="kw">def</span> longest_subpalindrome_slice(text):</a>
<a class="sourceLine" id="cb14-5" data-line-number="5">    <span class="co">&quot;Return (i, j) such that text[i:j] is the longest palindrome in text.&quot;</span></a>
<a class="sourceLine" id="cb14-6" data-line-number="6">    text <span class="op">=</span> text.upper()</a>
<a class="sourceLine" id="cb14-7" data-line-number="7"></a>
<a class="sourceLine" id="cb14-8" data-line-number="8">    ll, rr <span class="op">=</span> <span class="dv">0</span>, <span class="dv">0</span></a>
<a class="sourceLine" id="cb14-9" data-line-number="9">    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(text)<span class="op">-</span><span class="dv">1</span>):</a>
<a class="sourceLine" id="cb14-10" data-line-number="10">        l, r <span class="op">=</span> palindrome(text, i, i)</a>
<a class="sourceLine" id="cb14-11" data-line-number="11">        <span class="cf">if</span> (r<span class="op">-</span>l) <span class="op">&gt;</span> (rr<span class="op">-</span>ll):</a>
<a class="sourceLine" id="cb14-12" data-line-number="12">            ll, rr <span class="op">=</span> l, r</a>
<a class="sourceLine" id="cb14-13" data-line-number="13">        l, r <span class="op">=</span> palindrome(text, i, i<span class="op">+</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb14-14" data-line-number="14">        <span class="cf">if</span> (r<span class="op">-</span>l) <span class="op">&gt;</span> (rr<span class="op">-</span>ll):</a>
<a class="sourceLine" id="cb14-15" data-line-number="15">            ll, rr <span class="op">=</span> l, r</a>
<a class="sourceLine" id="cb14-16" data-line-number="16"></a>
<a class="sourceLine" id="cb14-17" data-line-number="17">    <span class="cf">return</span> ll, rr</a>
<a class="sourceLine" id="cb14-18" data-line-number="18"></a>
<a class="sourceLine" id="cb14-19" data-line-number="19"><span class="kw">def</span> palindrome(text, s, e):</a>
<a class="sourceLine" id="cb14-20" data-line-number="20">    <span class="cf">if</span> s <span class="op">&lt;</span> <span class="dv">0</span> <span class="kw">or</span> e <span class="op">&gt;=</span> <span class="bu">len</span>(text) <span class="kw">or</span> text[s] <span class="op">!=</span> text[e]:</a>
<a class="sourceLine" id="cb14-21" data-line-number="21">        <span class="cf">return</span> s<span class="op">+</span><span class="dv">1</span>, e</a>
<a class="sourceLine" id="cb14-22" data-line-number="22">    <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb14-23" data-line-number="23">        <span class="cf">return</span> palindrome(text, s<span class="dv">-1</span>, e<span class="op">+</span><span class="dv">1</span>)</a></code></pre></div>
<h3 id="my-new-solution-3">My New Solution</h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">def</span> longest_subpalindrome_slice(text):</a>
<a class="sourceLine" id="cb15-2" data-line-number="2">    <span class="co">&quot;Return (i, j) such that text[i:j] is the longest palindrome in text.&quot;</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3">    <span class="cf">if</span> <span class="kw">not</span> text:</a>
<a class="sourceLine" id="cb15-4" data-line-number="4">        <span class="cf">return</span> (<span class="dv">0</span>, <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb15-5" data-line-number="5">    <span class="cf">return</span> longest(subpalindromes(text.lower()))</a>
<a class="sourceLine" id="cb15-6" data-line-number="6"></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="kw">def</span> subpalindromes(text):</a>
<a class="sourceLine" id="cb15-8" data-line-number="8">    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(text)):</a>
<a class="sourceLine" id="cb15-9" data-line-number="9">        <span class="cf">yield</span> subpalindrome(text, i, i)</a>
<a class="sourceLine" id="cb15-10" data-line-number="10">        <span class="cf">yield</span> subpalindrome(text, i, i<span class="op">+</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb15-11" data-line-number="11"></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="kw">def</span> subpalindrome(text, l, r):</a>
<a class="sourceLine" id="cb15-13" data-line-number="13">    N <span class="op">=</span> <span class="bu">len</span>(text)</a>
<a class="sourceLine" id="cb15-14" data-line-number="14">    <span class="cf">if</span> l <span class="op">&gt;=</span> <span class="dv">0</span> <span class="kw">and</span> r <span class="op">&lt;</span> N <span class="kw">and</span> text[l] <span class="op">==</span> text[r]:</a>
<a class="sourceLine" id="cb15-15" data-line-number="15">        <span class="cf">return</span> subpalindrome(text, l<span class="dv">-1</span>, r<span class="op">+</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb15-16" data-line-number="16">    <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb15-17" data-line-number="17">        <span class="cf">return</span> (l<span class="op">+</span><span class="dv">1</span>, r)  <span class="co"># last valid one</span></a></code></pre></div>
<h3 id="his-solution-6">His Solution</h3>
<p><img src="https://media.yeonghoey.com/udacity/design-of-computer-programs/lesson2/_img/screenshot_2017-01-21_23-09-26.png" /></p>
<h3 id="feedback-6">Feedback</h3>
<p>It was hard to write <code>subpalindrome</code> function to be read naturally. In his solution, he named it <code>grow</code> which is better than just <code>subpalindrome</code>. And most importantly, he tests <code>whether it can grow</code> not <code>whether current state is valid and return previous valid one</code> (mine).</p>
<p>I failed to write it in this way because I had only cared about the testing whether its valid. Instead of that, I should have understood the condition and the output of the function.</p>
<p>I wrote my solution with this concept in mind:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">def</span> grow(text, l, r):</a>
<a class="sourceLine" id="cb16-2" data-line-number="2">    <span class="cf">if</span> l <span class="op">&gt;</span> <span class="dv">0</span> <span class="kw">and</span> r <span class="op">&lt;</span> <span class="bu">len</span>(text) <span class="kw">and</span> text[l<span class="dv">-1</span>] <span class="op">==</span> text[r]:</a>
<a class="sourceLine" id="cb16-3" data-line-number="3">        <span class="cf">return</span> subpalindrome(text, l<span class="dv">-1</span>, r<span class="op">+</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb16-4" data-line-number="4">    <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb16-5" data-line-number="5">        <span class="cf">return</span> (l, r)</a></code></pre></div>
<h1 id="office-hours-2">Office Hours 2</h1>
<ul>
<li><a href="https://books.google.com/books?uid=8640673873589796416">Peter Norvig's Library</a></li>
<li>Practice of Programming</li>
<li>The Elements of Programming Style</li>
<li>SICP</li>
<li>Programming Pearls</li>
</ul>
</article>

</body>
</html>
