#+TITLE: View

* Table of Contents :TOC_2_gh:
- [[#overview][Overview]]
- [[#how-to][How-to]]
- [[#reference][Reference]]
  - [[#maxparallelindexers][maxParallelIndexers]]
- [[#topics][Topics]]
  - [[#indexers][Indexers]]
- [[#terminology][Terminology]]
- [[#links][Links]]
- [[#staging][Staging]]

* Overview
- https://developer.couchbase.com/documentation/server/4.6/views/views-intro.html
- https://developer.couchbase.com/documentation/server/4.6/views/views-operation.html

[[file:img/screenshot_2017-08-16_18-54-27.png]]

- ~Views~ belong to a ~design document~. ~Design documents~ belong to a ~bucket~.
- ~View~ names must be specified using *one or more* ~UTF-8~ characters.
- All the ~views~ within a single ~design document~ are updated when the update to a single ~view~ is triggered.
- Expired ~documents~ may still exist within the index.
- ~Views~ are updated incrementally

* How-to
* Reference
** maxParallelIndexers
- https://developer.couchbase.com/documentation/server/3.x/admin/Misc/Trbl-blockedIndexer.html
- https://developer.couchbase.com/documentation/server/current/rest-api/rest-get-internal-setting.html


- Each ~design document~ maps to one ~indexer~
- Couchbase Server limits the maximum number of ~indexers~ that can run in parallel.
- There are two types of indexers: ~main indexers~ and ~replica indexers~.
- Default is ~4~ (main), ~2~ (replica)
- Can be modified by setting ~maxParallelIndexers~ and ~maxParallelReplicaIndexers~

#+BEGIN_QUOTE
Couchbase makes no recommendations for tuning beyond the default settings.
#+END_QUOTE

#+BEGIN_SRC shell
  # Check current indexer tasks
  curl -X GET  -u Administrator:password http://localhost:8092/_active_tasks

  # Get / Set maxParallelIndexers
  curl -X GET  -u Administrator:password http://localhost:8091/settings/maxParallelIndexers
  curl -X POST -u Administrator:password http://localhost:8091/settings/maxParallelIndexers -d 'globalValue=8'

  # Check current internalSettings
  curl -x GET  -u Administrator:password http://localhost:8091/internalSettings
#+END_SRC

* Topics
** Indexers

* Terminology
* Links
- https://developer.couchbase.com/documentation/server/4.6/architecture/incremental-map-reduce-views.html

* Staging
