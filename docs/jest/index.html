<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Jest</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header>
<h1 class="title">Jest</h1>
</header>
<h1 id="table-of-contents">Table of Contents <span class="tag" data-tag-name="TOC_2_gh"><span class="smallcaps">TOC_2_gh</span></span></h1>
<ul>
<li><a href="#introduction">Introduction</a>
<ul>
<li><a href="#using-matchers">Using Matchers</a></li>
<li><a href="#testing-asynchronous-code">Testing Asynchronous Code</a></li>
<li><a href="#setup-and-teardown">Setup and Teardown</a></li>
<li><a href="#mock-functions">Mock Functions</a></li>
<li><a href="#jest-platform">Jest Platform</a></li>
<li><a href="#jest-community">Jest Community</a></li>
<li><a href="#more-resources">More Resources</a></li>
</ul></li>
<li><a href="#guides">Guides</a>
<ul>
<li><a href="#snapshot-testing">Snapshot Testing</a></li>
</ul></li>
<li><a href="#api-reference">API Reference</a>
<ul>
<li><a href="#globals">Globals</a></li>
<li><a href="#configuring-jest">Configuring Jest</a></li>
</ul></li>
</ul>
<h1 id="introduction">Introduction</h1>
<h2 id="using-matchers"><a href="https://facebook.github.io/jest/docs/en/using-matchers.html">Using Matchers</a></h2>
<div class="sourceCode" id="cb1" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="at">expect</span>(x).<span class="at">toBeNull</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="at">expect</span>(x).<span class="at">toBeDefined</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="at">expect</span>(x).<span class="va">not</span>.<span class="at">toBeUndefined</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="at">expect</span>(x).<span class="va">not</span>.<span class="at">toBeTruthy</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="at">expect</span>(x).<span class="at">toBeFalsy</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="at">expect</span>(x).<span class="at">toBeGreaterThan</span>(<span class="dv">3</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="at">expect</span>(x).<span class="at">toBeGreaterThanOrEqual</span>(<span class="fl">3.5</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="at">expect</span>(x).<span class="at">toBeLessThan</span>(<span class="dv">5</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="at">expect</span>(x).<span class="at">toBeLessThanOrEqual</span>(<span class="fl">4.5</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="at">expect</span>(x).<span class="at">toBe</span>(<span class="dv">4</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11"><span class="at">expect</span>(x).<span class="at">toEqual</span>(<span class="dv">4</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="at">expect</span>(x).<span class="at">toBeCloseTo</span>(<span class="fl">0.3</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-13" data-line-number="13"><span class="at">expect</span>(x).<span class="at">toMatch</span>(<span class="ss">/stop/</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-14" data-line-number="14"><span class="at">expect</span>(x).<span class="at">toContain</span>(<span class="st">&#39;beer&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-15" data-line-number="15"><span class="at">expect</span>(x).<span class="at">toThrow</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-16" data-line-number="16"></a>
<a class="sourceLine" id="cb1-17" data-line-number="17"><span class="at">expect</span>(mockFunc).<span class="at">toBeCalled</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-18" data-line-number="18"><span class="at">expect</span>(mockFunc).<span class="at">toBeCalledWith</span>(arg1<span class="op">,</span> arg2)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-19" data-line-number="19"><span class="at">expect</span>(mockFunc).<span class="at">lastCalledWith</span>(arg1<span class="op">,</span> arg2)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-20" data-line-number="20"><span class="at">expect</span>(mockFunc).<span class="at">toMatchSnapshot</span>()<span class="op">;</span></a></code></pre></div>
<hr />
<ul>
<li><a href="https://facebook.github.io/jest/docs/en/expect.html" class="uri">https://facebook.github.io/jest/docs/en/expect.html</a></li>
</ul>
<h2 id="testing-asynchronous-code"><a href="https://facebook.github.io/jest/docs/en/asynchronous.html">Testing Asynchronous Code</a></h2>
<dl>
<dt>Use <code>done</code></dt>
<dd><ul>
<li>Be sure to call <code>done</code></li>
</ul>
<div class="sourceCode" id="cb2" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="at">test</span>(<span class="st">&#39;the data is peanut butter&#39;</span><span class="op">,</span> done <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">  <span class="kw">function</span> <span class="at">callback</span>(data) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">    <span class="at">expect</span>(data).<span class="at">toBe</span>(<span class="st">&#39;peanut butter&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">    <span class="at">done</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"></a>
<a class="sourceLine" id="cb2-7" data-line-number="7">  <span class="at">fetchData</span>(callback)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
</dd>
<dt>Use <code>Promise</code></dt>
<dd><ul>
<li>Be sure to return the <code>Promise</code></li>
</ul>
<div class="sourceCode" id="cb3" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="at">test</span>(<span class="st">&#39;the data is peanut butter&#39;</span><span class="op">,</span> () <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">  <span class="va">expect</span>.<span class="at">assertions</span>(<span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">  <span class="cf">return</span> <span class="at">fetchData</span>().<span class="at">then</span>(data <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">    <span class="at">expect</span>(data).<span class="at">toBe</span>(<span class="st">&#39;peanut butter&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
</dd>
<dt>Use <code>.resolves</code>, <code>.rejects</code></dt>
<dd><ul>
<li>Waits until the <code>Promise</code> reolves</li>
</ul>
<div class="sourceCode" id="cb4" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="at">test</span>(<span class="st">&#39;the data is peanut butter&#39;</span><span class="op">,</span> () <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">  <span class="va">expect</span>.<span class="at">assertions</span>(<span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">  <span class="cf">return</span> <span class="at">expect</span>(<span class="at">fetchData</span>()).<span class="va">resolves</span>.<span class="at">toBe</span>(<span class="st">&#39;peanut butter&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
</dd>
<dt>Use <code>async</code>, <code>await</code></dt>
<dd><div class="sourceCode" id="cb5" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="at">test</span>(<span class="st">&#39;the data is peanut butter&#39;</span><span class="op">,</span> <span class="at">async</span> () <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">  <span class="va">expect</span>.<span class="at">assertions</span>(<span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">  <span class="kw">const</span> data <span class="op">=</span> await <span class="at">fetchData</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4">  <span class="at">expect</span>(data).<span class="at">toBe</span>(<span class="st">&#39;peanut butter&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"></a></code></pre></div>
</dd>
</dl>
<h2 id="setup-and-teardown"><a href="https://facebook.github.io/jest/docs/en/setup-teardown.html">Setup and Teardown</a></h2>
<ul>
<li>Like tests, setup and teardown functions can also be used with <code>done</code> param or returning <code>Promise</code>.</li>
<li><p><code>beforeAll</code>, <code>afterAll</code> are scoped withgiin the file they are placed in</p></li>
<li><p>Use <code>beforeEach</code>, <code>afterEach</code> ::</p>
<div class="sourceCode" id="cb6" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="at">beforeEach</span>(() <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">  <span class="at">initializeCityDatabase</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="at">afterEach</span>(() <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6">  <span class="at">clearCityDatabase</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div></li>
<li><p>Use <code>beforeAll</code>, <code>afterAll</code> ::</p>
<div class="sourceCode" id="cb7" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="at">beforeAll</span>(() <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">  <span class="cf">return</span> <span class="at">initializeCityDatabase</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="at">afterAll</span>(() <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6">  <span class="cf">return</span> <span class="at">clearCityDatabase</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div></li>
<li>Use <code>describe</code> for scoping ::
<ul>
<li>Jest executes all <code>describe</code> handlers in a test file <strong>before it executes any of the actual tests.</strong></li>
</ul>
<div class="sourceCode" id="cb8" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="at">describe</span>(<span class="st">&#39;matching cities to foods&#39;</span><span class="op">,</span> () <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">  <span class="co">// Applies only to tests in this describe block</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3">  <span class="at">beforeEach</span>(() <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4">    <span class="cf">return</span> <span class="at">initializeFoodDatabase</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"></a>
<a class="sourceLine" id="cb8-7" data-line-number="7">  <span class="at">test</span>(<span class="st">&#39;Vienna &lt;3 sausage&#39;</span><span class="op">,</span> () <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8">    <span class="at">expect</span>(<span class="at">isValidCityFoodPair</span>(<span class="st">&#39;Vienna&#39;</span><span class="op">,</span> <span class="st">&#39;Wiener Schnitzel&#39;</span>)).<span class="at">toBe</span>(<span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"></a>
<a class="sourceLine" id="cb8-11" data-line-number="11">  <span class="at">test</span>(<span class="st">&#39;San Juan &lt;3 plantains&#39;</span><span class="op">,</span> () <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12">    <span class="at">expect</span>(<span class="at">isValidCityFoodPair</span>(<span class="st">&#39;San Juan&#39;</span><span class="op">,</span> <span class="st">&#39;Mofongo&#39;</span>)).<span class="at">toBe</span>(<span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-14" data-line-number="14"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<div class="sourceCode" id="cb9" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="at">beforeAll</span>(() <span class="op">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;1 - beforeAll&#39;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="at">afterAll</span>(() <span class="op">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;1 - afterAll&#39;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="at">beforeEach</span>(() <span class="op">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;1 - beforeEach&#39;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="at">afterEach</span>(() <span class="op">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;1 - afterEach&#39;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="at">test</span>(<span class="st">&#39;&#39;</span><span class="op">,</span> () <span class="op">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;1 - test&#39;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="at">describe</span>(<span class="st">&#39;Scoped / Nested block&#39;</span><span class="op">,</span> () <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7">  <span class="at">beforeAll</span>(() <span class="op">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;2 - beforeAll&#39;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb9-8" data-line-number="8">  <span class="at">afterAll</span>(() <span class="op">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;2 - afterAll&#39;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9">  <span class="at">beforeEach</span>(() <span class="op">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;2 - beforeEach&#39;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb9-10" data-line-number="10">  <span class="at">afterEach</span>(() <span class="op">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;2 - afterEach&#39;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb9-11" data-line-number="11">  <span class="at">test</span>(<span class="st">&#39;&#39;</span><span class="op">,</span> () <span class="op">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;2 - test&#39;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb9-12" data-line-number="12"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<pre class="example"><code>1 - beforeAll
1 - beforeEach
1 - test
1 - afterEach
2 - beforeAll
1 - beforeEach
2 - beforeEach
2 - test
2 - afterEach
1 - afterEach
2 - afterAll
1 - afterAll
</code></pre></li>
</ul>
<h2 id="mock-functions"><a href="https://facebook.github.io/jest/docs/en/mock-functions.html">Mock Functions</a></h2>
<dl>
<dt>Using a mock function</dt>
<dd><div class="sourceCode" id="cb11" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">function</span> <span class="at">forEach</span>(items<span class="op">,</span> callback) <span class="op">{</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2">  <span class="cf">for</span> (<span class="kw">let</span> index <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> index <span class="op">&lt;</span> <span class="va">items</span>.<span class="at">length</span><span class="op">;</span> index<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3">    <span class="at">callback</span>(items[index])<span class="op">;</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4">  <span class="op">}</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="op">}</span></a></code></pre></div>
<div class="sourceCode" id="cb12" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">const</span> mockCallback <span class="op">=</span> <span class="va">jest</span>.<span class="at">fn</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="at">forEach</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span>]<span class="op">,</span> mockCallback)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3"></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="co">// The mock function is called twice</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="at">expect</span>(<span class="va">mockCallback</span>.<span class="va">mock</span>.<span class="va">calls</span>.<span class="at">length</span>).<span class="at">toBe</span>(<span class="dv">2</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6"></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="co">// The first argument of the first call to the function was 0</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="at">expect</span>(<span class="va">mockCallback</span>.<span class="va">mock</span>.<span class="at">calls</span>[<span class="dv">0</span>][<span class="dv">0</span>]).<span class="at">toBe</span>(<span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-9" data-line-number="9"></a>
<a class="sourceLine" id="cb12-10" data-line-number="10"><span class="co">// The first argument of the second call to the function was 1</span></a>
<a class="sourceLine" id="cb12-11" data-line-number="11"><span class="at">expect</span>(<span class="va">mockCallback</span>.<span class="va">mock</span>.<span class="at">calls</span>[<span class="dv">1</span>][<span class="dv">0</span>]).<span class="at">toBe</span>(<span class="dv">1</span>)<span class="op">;</span></a></code></pre></div>
</dd>
<dt>Mock Return Values</dt>
<dd><div class="sourceCode" id="cb13" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">const</span> myMock <span class="op">=</span> <span class="va">jest</span>.<span class="at">fn</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="va">console</span>.<span class="at">log</span>(<span class="at">myMock</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="co">// &gt; undefined</span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"></a>
<a class="sourceLine" id="cb13-5" data-line-number="5">myMock</a>
<a class="sourceLine" id="cb13-6" data-line-number="6">  .<span class="at">mockReturnValueOnce</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb13-7" data-line-number="7">  .<span class="at">mockReturnValueOnce</span>(<span class="st">&#39;x&#39;</span>)</a>
<a class="sourceLine" id="cb13-8" data-line-number="8">  .<span class="at">mockReturnValue</span>(<span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"></a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="va">console</span>.<span class="at">log</span>(<span class="at">myMock</span>()<span class="op">,</span> <span class="at">myMock</span>()<span class="op">,</span> <span class="at">myMock</span>()<span class="op">,</span> <span class="at">myMock</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb13-11" data-line-number="11"><span class="co">// &gt; 10, &#39;x&#39;, true, true</span></a></code></pre></div>
</dd>
<dt>Mocking Modules</dt>
<dd><div class="sourceCode" id="cb14" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="co">// users.test.js</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="im">import</span> axios <span class="im">from</span> <span class="st">&#39;axios&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="im">import</span> Users <span class="im">from</span> <span class="st">&#39;./users&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="va">jest</span>.<span class="at">mock</span>(<span class="st">&#39;axios&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-6" data-line-number="6"></a>
<a class="sourceLine" id="cb14-7" data-line-number="7"><span class="at">test</span>(<span class="st">&#39;should fetch users&#39;</span><span class="op">,</span> () <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb14-8" data-line-number="8">  <span class="kw">const</span> resp <span class="op">=</span> <span class="op">{</span><span class="dt">data</span><span class="op">:</span> [<span class="op">{</span><span class="dt">name</span><span class="op">:</span> <span class="st">&#39;Bob&#39;</span><span class="op">}</span>]<span class="op">};</span></a>
<a class="sourceLine" id="cb14-9" data-line-number="9">  <span class="va">axios</span>.<span class="va">get</span>.<span class="at">mockResolvedValue</span>(resp)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-10" data-line-number="10"></a>
<a class="sourceLine" id="cb14-11" data-line-number="11">  <span class="co">// or you could use the follwing depending on your use case:</span></a>
<a class="sourceLine" id="cb14-12" data-line-number="12">  <span class="co">// axios.get.mockImplementation(() =&gt; Promise.resolve(resp))</span></a>
<a class="sourceLine" id="cb14-13" data-line-number="13"></a>
<a class="sourceLine" id="cb14-14" data-line-number="14">  <span class="cf">return</span> <span class="va">Users</span>.<span class="at">all</span>().<span class="at">then</span>(users <span class="op">=&gt;</span> <span class="at">expect</span>(users).<span class="at">toEqual</span>(<span class="va">resp</span>.<span class="at">data</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb14-15" data-line-number="15"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
</dd>
<dt>Mock Implementations</dt>
<dd><div class="sourceCode" id="cb15" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">const</span> myMockFn <span class="op">=</span> jest</a>
<a class="sourceLine" id="cb15-2" data-line-number="2">      .<span class="at">fn</span>(() <span class="op">=&gt;</span> <span class="st">&#39;default&#39;</span>)</a>
<a class="sourceLine" id="cb15-3" data-line-number="3">      .<span class="at">mockImplementationOnce</span>(() <span class="op">=&gt;</span> <span class="st">&#39;first call&#39;</span>)</a>
<a class="sourceLine" id="cb15-4" data-line-number="4">      .<span class="at">mockImplementationOnce</span>(() <span class="op">=&gt;</span> <span class="st">&#39;second call&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="va">console</span>.<span class="at">log</span>(<span class="at">myMockFn</span>()<span class="op">,</span> <span class="at">myMockFn</span>()<span class="op">,</span> <span class="at">myMockFn</span>()<span class="op">,</span> <span class="at">myMockFn</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="co">// &gt; &#39;first call&#39;, &#39;second call&#39;, &#39;default&#39;, &#39;default&#39;</span></a></code></pre></div>
</dd>
<dt>Mock Names</dt>
<dd><ul>
<li>Give a name to the mock function for error output.</li>
</ul>
<div class="sourceCode" id="cb16" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">const</span> myMockFn <span class="op">=</span> jest</a>
<a class="sourceLine" id="cb16-2" data-line-number="2">      .<span class="at">fn</span>()</a>
<a class="sourceLine" id="cb16-3" data-line-number="3">      .<span class="at">mockReturnValue</span>(<span class="st">&#39;default&#39;</span>)</a>
<a class="sourceLine" id="cb16-4" data-line-number="4">      .<span class="at">mockImplementation</span>(scalar <span class="op">=&gt;</span> <span class="dv">42</span> <span class="op">+</span> scalar)</a>
<a class="sourceLine" id="cb16-5" data-line-number="5">      .<span class="at">mockName</span>(<span class="st">&#39;add42&#39;</span>)<span class="op">;</span></a></code></pre></div>
</dd>
</dl>
<h2 id="jest-platform"><a href="https://facebook.github.io/jest/docs/en/jest-platform.html">Jest Platform</a></h2>
<h2 id="jest-community"><a href="https://facebook.github.io/jest/docs/en/jest-community.html">Jest Community</a></h2>
<h2 id="more-resources"><a href="https://facebook.github.io/jest/docs/en/more-resources.html">More Resources</a></h2>
<ul>
<li><a href="https://github.com/facebook/jest/tree/master/examples" class="uri">https://github.com/facebook/jest/tree/master/examples</a></li>
</ul>
<h1 id="guides">Guides</h1>
<h2 id="snapshot-testing"><a href="https://facebook.github.io/jest/docs/en/snapshot-testing.html">Snapshot Testing</a></h2>
<p>Snapshot tests are a very useful tool <strong>whenever you want to make sure your UI does not change unexpectedly.</strong></p>
<div class="sourceCode" id="cb17" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="im">import</span> Link <span class="im">from</span> <span class="st">&#39;../Link.react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="im">import</span> renderer <span class="im">from</span> <span class="st">&#39;react-test-renderer&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4"></a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="at">it</span>(<span class="st">&#39;renders correctly&#39;</span><span class="op">,</span> () <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6">  <span class="kw">const</span> tree <span class="op">=</span> renderer</a>
<a class="sourceLine" id="cb17-7" data-line-number="7">    .<span class="at">create</span>(<span class="op">&lt;</span>Link page<span class="op">=</span><span class="st">&quot;http://www.facebook.com&quot;</span><span class="op">&gt;</span>Facebook&lt;/Link<span class="op">&gt;</span>)</a>
<a class="sourceLine" id="cb17-8" data-line-number="8">    .<span class="at">toJSON</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-9" data-line-number="9">  <span class="at">expect</span>(tree).<span class="at">toMatchSnapshot</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-10" data-line-number="10"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<ol>
<li>When the first time the test is run, Jest creates a snapshot file.</li>
<li>After that, Jest compares new caculated results with it.</li>
<li><p>To update it, run following command:</p>
<pre class="example"><code>jest --updateSnapshot 
</code></pre></li>
</ol>
<ul>
<li>Snapshot files should be committed.</li>
<li>The aim of snapshot testing is not to replace existing unit tests, but providing additional value and making testing painless.</li>
<li>Snapshots help figuring out whether the output of the modules covered by tests is changed, rather than giving guidance to design the code in the first place.</li>
</ul>
<h1 id="api-reference">API Reference</h1>
<h2 id="globals">Globals</h2>
<dl>
<dt><code>test(name, fn, timeout)</code></dt>
<dd><ul>
<li>Alias <code>it(name, fn, timeout)</code></li>
</ul>
</dd>
</dl>
<h2 id="configuring-jest"><a href="https://facebook.github.io/jest/docs/en/configuration.html">Configuring Jest</a></h2>
<dl>
<dt><code>package.json</code></dt>
<dd><div class="sourceCode" id="cb19"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2">  <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;my-project&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb19-3" data-line-number="3">  <span class="dt">&quot;jest&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb19-4" data-line-number="4">    <span class="dt">&quot;verbose&quot;</span><span class="fu">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb19-5" data-line-number="5">  <span class="fu">}</span></a>
<a class="sourceLine" id="cb19-6" data-line-number="6"><span class="fu">}</span></a></code></pre></div>
</dd>
<dt><code>jest.config.js</code></dt>
<dd><div class="sourceCode" id="cb20" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="co">// jest.config.js</span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="va">module</span>.<span class="at">exports</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb20-3" data-line-number="3">  <span class="dt">verbose</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb20-4" data-line-number="4"><span class="op">};</span></a></code></pre></div>
</dd>
<dt>With <code>--config</code> option</dt>
<dd><ul>
<li>MUST not contain <code>jest</code> key in json</li>
</ul>
<div class="sourceCode" id="cb21"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb21-2" data-line-number="2">  <span class="dt">&quot;bail&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb21-3" data-line-number="3">  <span class="dt">&quot;verbose&quot;</span><span class="fu">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb21-4" data-line-number="4"><span class="fu">}</span></a></code></pre></div>
</dd>
<dt><a href="https://facebook.github.io/jest/docs/en/configuration.html#setupfiles-array">setupFiles</a> <code>[array]</code></dt>
<dd><ul>
<li>The paths to modules that run some code to configure or set up the testing environment <strong>before each test</strong>.</li>
</ul>
</dd>
<dt><a href="https://facebook.github.io/jest/docs/en/configuration.html#testmatch-array-string">testMatch</a> <code>[array]</code></dt>
<dd><ul>
<li><p>default (uses <a href="https://github.com/micromatch/micromatch#extended-globbing">micromatch</a> patterns)</p>
<div class="sourceCode" id="cb22" data-org-language="js"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb22-1" data-line-number="1">[</a>
<a class="sourceLine" id="cb22-2" data-line-number="2">  <span class="st">&#39;**/__tests__/**/*.js?(x)&#39;</span><span class="op">,</span>   <span class="co">// .js and .jsx files inside of __tests__ folders</span></a>
<a class="sourceLine" id="cb22-3" data-line-number="3">  <span class="st">&#39;**/?(*.)(spec|test).js?(x)&#39;</span><span class="op">,</span> <span class="co">// files with a suffix of .test or .spec</span></a>
<a class="sourceLine" id="cb22-4" data-line-number="4">]</a></code></pre></div></li>
</ul>
</dd>
</dl>
</body>
</html>
