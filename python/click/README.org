#+TITLE: click

* Table of Contents :TOC_2_gh:
- [[#overview][Overview]]
- [[#reference][Reference]]
  - [[#option][option]]
  - [[#param_decls][param_decls]]
- [[#terminology][Terminology]]
- [[#topics][Topics]]
- [[#how-to][How-to]]
- [[#links][Links]]
- [[#staging][Staging]]

* Overview
#+BEGIN_SRC python
  @click.command()
  @click.option('--count', default=1, help='number of greetings')
  @click.argument('name')
  def hello(count, name):
      for x in range(count):
          click.echo('Hello %s!' % name)
#+END_SRC

#+BEGIN_SRC python
  @click.group()
  def cli():
      pass

  @cli.command()
  def initdb():
      click.echo('Initialized the database')

  @cli.command()
  def dropdb():
      click.echo('Dropped the database')
#+END_SRC

* Reference
** option
- http://click.pocoo.org/5/options/

#+BEGIN_SRC python
  @click.option('--n', default=1)
  @click.option('--pos', nargs=2, type=float)
  @click.option('--item', type=(unicode, int))
  @click.option('--message', '-m', multiple=True)  #  -m foo -m bar
  @click.option('--shout/--no-shout', default=False)
  @click.option('--shout', is_flag=True)
  @click.option('--hash-type', type=click.Choice(['md5', 'sha1']))
  @click.option('--name', prompt='Your name please')
  @click.option('--username', envvar='USERNAME')
#+END_SRC

** param_decls
- http://click.pocoo.org/5/parameters/#parameter-names
- http://click.pocoo.org/5/api/#parameters

- ~Parameter~ is the base class of ~option~ and ~argument~.
- Positional arguments of ~option~ and ~argument~ become ~param_decl~
- If a string is added *without any dashes*, it becomes the parameter name.
- The parameter name is generated automatically by taking *the longest argument and converting all dashes to underscores.*

#+BEGIN_SRC python
  @click.option('-v', count=True)
  def foo(v):

  @click.option('-v', '--verbose', count=True)  # longest n
  def foo(verbose):

  @click.option('vvv', '-v', '--verbose', count=True)
  def foo(vvv):
#+END_SRC

* Terminology
* Topics
* How-to
* Links
* Staging
