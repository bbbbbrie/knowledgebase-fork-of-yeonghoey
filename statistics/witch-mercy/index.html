<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-120656861-1"></script>
  <script>
   window.dataLayer = window.dataLayer || [];
   function gtag(){dataLayer.push(arguments);}
   gtag('js', new Date());
   gtag('config', 'UA-120656861-1');
  </script>

  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />


  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#00aba9">
  <meta name="theme-color" content="#ffffff">

  <title>Winning Mercy's Halloween Witch skin</title>

  <style type="text/css">
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>


  <link rel="stylesheet" href="/_css/content.css" />


  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->

  <link href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Condensed|Roboto+Mono" rel="stylesheet">
</head>
<body>
<nav class="menu">
  <ol class="breadcrumb">
    <li><a href="/" >Home</a></li>
    <li><a href="/statistics/" >statistics</a></li>
    <li>witch-mercy</li>
  </ol>
</nav>

<article>
<header>
<h1 class="title">Winning Mercy's Halloween Witch skin</h1>
</header>

<nav class="toc">
<h2>Table of Contents</h2>
<ul>
<li><a href="#overwatch-witch-mercy-skin">Overwatch Witch Mercy Skin</a></li>
<li><a href="#problem">Problem</a></li>
<li><a href="#assumption">Assumption</a></li>
<li><a href="#solution">Solution</a></li>
<li><a href="#simplification">Simplification</a></li>
<li><a href="#result">Result</a></li>
<li><a href="#the-net-result">The Net Result</a></li>
</ul>
</nav>

<h1 id="overwatch-witch-mercy-skin">Overwatch Witch Mercy Skin</h1>
<p><img src="https://media.yeonghoey.com/statistics/witch-mercy/_img/screenshot_2016-12-26_22-42-20.png" /></p>
<h1 id="problem">Problem</h1>
<p>Winning <strong>Overwatch Mercy's Halloween Witch skin</strong> at the minimum cost. There are five bundle types:</p>
<table>
<thead>
<tr class="header">
<th>Box count</th>
<th>Cost(KRW)</th>
<th>per Box(KRW)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2</td>
<td>2400</td>
<td>1200</td>
</tr>
<tr class="even">
<td>5</td>
<td>6000</td>
<td>1200</td>
</tr>
<tr class="odd">
<td>11</td>
<td>12000</td>
<td>1091</td>
</tr>
<tr class="even">
<td>24</td>
<td>24000</td>
<td>1000</td>
</tr>
<tr class="odd">
<td>50</td>
<td>48000</td>
<td>960</td>
</tr>
</tbody>
</table>
<h1 id="assumption">Assumption</h1>
<ol>
<li>I can win a legendary skin every 10 boxes. There is a <a href="http://snaketeacher1.tistory.com/288">post</a> (korean) that supports this assumption.</li>
<li>The chances of winning Halloween skins are drastically higher than others during the event season.</li>
<li>There are four Halloween legendary skins. By assumption 2, I have approximately <strong>1/40 or slightly less chance</strong> of winning the witch skin for each box. (<code>1/10 * 1/4</code>)</li>
<li>I currently have 1100 credits, and probably I'll get more than 1900 credits after opening 50 boxes. So I will <strong>buy 50 boxes</strong> at most.</li>
</ol>
<h1 id="solution">Solution</h1>
<p>Calculate the expected cost for <strong>buying 50 or more boxes under the condition that I can stop buying bundles when I won the skin</strong>.</p>
<p>Here is the example:</p>
<blockquote>
<p>When I buy <code>x</code> boxes for <code>y</code> won with the chance <code>p</code> of winning the skin</p>
</blockquote>
<pre class="example"><code>count = x
cost = y
</code></pre>
<blockquote>
<p>The probability of not winning the skin <code>f</code> is <code>(1-p)^x</code>. Buy another <code>xx</code> boxes for <code>yy</code> won with the same chance <code>p</code>:</p>
</blockquote>
<pre class="example"><code>count = x + xx
cost = y + f*yy
</code></pre>
<blockquote>
<p>And the next case of <code>(xxx, yyy)</code> where <code>ff</code> is <code>(1-p)^xx</code>:</p>
</blockquote>
<pre class="example"><code>count = x + xx + xxx
cost = y + f*yy + f*ff*yyy
</code></pre>
<p>Calculate these until the <code>count</code> is greater than or equal to <strong>50</strong>.</p>
<p>I calculated all possible cases by brute force algorithm(including <code>main.py</code>).</p>
<h1 id="simplification">Simplification</h1>
<p>Ignore the order of buying bundles. Consider the following cases:</p>
<ul>
<li>2, 5, 11</li>
<li>2, 11, 5</li>
<li>5, 11, 2</li>
<li>â€¦</li>
</ul>
<p>These are all considered as <code>2, 5, 11</code>. With this simplification, the algorithm becomes easier and faster.</p>
<h1 id="result">Result</h1>
<p>With <code>p = 1/40</code>, I got the following result:</p>
<pre class="example"><code>34900.83, [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]
35051.39, [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 5, 5]
35060.40, [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 11, 11]
35062.75, [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 5, 11]
35245.33, [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 5, 5, 5, 5]
</code></pre>
<p>With <code>p = 1/60</code>, I got the following result:</p>
<pre class="example"><code>40557.05, [2, 2, 2, 11, 11, 11, 11]
40769.93, [2, 2, 11, 11, 24]
40908.81, [2, 2, 2, 2, 2, 2, 5, 11, 11, 11]
40979.78, [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 11, 11]
41110.21, [2, 24, 24]
</code></pre>
<p>Because buying 2-box bundles for 25 times is cumbersome I decided to follow the best one of <code>p=1/60</code> case with buying 11-box bundles first.</p>
<h1 id="the-net-result">The Net Result</h1>
<p>I bought <strong>two 11-box bundles</strong> and won the witch skin at <strong>the 22nd try</strong>!</p>
</article>

</body>
</html>
