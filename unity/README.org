#+TITLE: Unity

* Table of Contents :TOC_1_gh:
 - [[#references][References]]
 - [[#details][Details]]
 - [[#use-cases][Use Cases]]

* References
** Animations
- https://docs.unity3d.com/Manual/AnimationSection.html
- https://docs.unity3d.com/Manual/AnimationParameters.html
- https://docs.unity3d.com/Manual/animeditor-AnimationEvents.html
- https://docs.unity3d.com/Manual/class-Transition.html

[[file:img/screenshot_2017-05-02_10-32-44.png]]

- *Samples*: Frames per second

#+BEGIN_SRC csharp
  using UnityEngine;
  using System.Collections;

  public class SimplePlayer : MonoBehaviour {

      Animator animator;

      // Use this for initialization
      void Start () {
          animator = GetComponent<Animator>();
      }

      // Update is called once per frame
      void Update () {
          float h = Input.GetAxis("Horizontal");
          float v = Input.GetAxis("Vertical");
          bool fire = Input.GetButtonDown("Fire1");

          animator.SetFloat("Forward",v);
          animator.SetFloat("Strafe",h);
          animator.SetBool("Fire", fire);
      }

      void OnCollisionEnter(Collision col) {
          if (col.gameObject.CompareTag("Enemy"))
          {
              animator.SetTrigger("Die");
          }
      }
  }
#+END_SRC

#+BEGIN_SRC csharp
  // This C# function can be called by an Animation Event
  public void PrintFloat (float theValue) {
      Debug.Log ("PrintFloat is called with a value of " + theValue);
  }
#+END_SRC

[[file:img/screenshot_2017-05-02_11-03-03.png]]

[[file:img/screenshot_2017-05-02_11-18-01.png]]

- *Duration out* marker to change the Duration of the transition.
- *Duration in* marker to change the duration of the transition and the Exit Time.
- *Target transition* to adjust the Transition Offset.
- *Preview playback marker* to scrub through the animation blend in the preview window at the bottom of the Inspector.

** Collider 2D
- https://docs.unity3d.com/ScriptReference/Collider2D.html

#+BEGIN_SRC csharp
  void OnTriggerEnter2D(Collider2D other) {
		  if (other.CompareTag ("Bullet")) {
          Destroy (other.gameObject);
		  }
  }
#+END_SRC

** Object
- https://docs.unity3d.com/ScriptReference/Object.html

#+BEGIN_SRC csharp
  public static void Destroy(Object obj, float t = 0.0F);
#+END_SRC

** Physics 2D
- https://docs.unity3d.com/Manual/Physics2DReference.html


- A Kinematic Rigidbody 2D *does not* collide with other Kinematic Rigidbody 2Ds or with Static Rigidbody 2Ds;
  it only collides with Dynamic Rigidbody 2Ds.

[[file:img/screenshot_2017-05-01_10-20-38.png]]

** Random
- https://docs.unity3d.com/ScriptReference/Random.html

#+BEGIN_SRC csharp
  // min [inclusive] and max [inclusive]
  public static float Range(float min, float max);

  // 0.0 [inclusive] and 1.0 [inclusive]
  public static float value;

  public static Quaternion rotation;

  public static Vector2 insideUnitCircle;

  // Many other overloadings
  public static Color ColorHSV();
#+END_SRC

** Sprites
- https://docs.unity3d.com/Manual/Sprites.html

*** Packer
- file:///Applications/Unity/Unity.app/Contents/Documentation/en/Manual/SpritePacker.html
- ~Edit~ -> ~Project Settings~ -> ~Editor~
- ~Window~ -> ~Sprite Packer~
- *Required to specify a Packing Tag* in the Texture Importer to enable packing for Sprites of that Texture.

[[file:img/screenshot_2017-05-02_09-55-41.png]]

[[file:img/screenshot_2017-05-02_09-56-05.png]]

* Details
** Layer vs Sorting Layer
- http://answers.unity3d.com/questions/726726/which-is-the-difference-between-layer-and-sorting.html
- *Layers* can be used for selective rendering from cameras or ignoring raycasts
- *Sorting Layers* and *Order in Layer* are to determine the render order of sprites in a scene.
- *Lower numbers are rendered first*

[[file:img/screenshot_2017-05-02_10-00-27.png]]

* Use Cases
** WebGL doen't work in chrome locally
- https://docs.unity3d.com/Manual/webgl-building.html
- Use Unityâ€™s ~Build & Run~ command; the file is then temporarily hosted in a local web server and opened from a local host URL.
- Run Chrome with the ~--allow-file-access-from-files~ command line option which allows it to load content from local file URLs.
